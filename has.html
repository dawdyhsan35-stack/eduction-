 <!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Ù…ÙˆÙ‚Ø¹ ØªØ¹Ù„ÙŠÙ…ÙŠ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --primary:#007bff;        /* Ø£Ø²Ø±Ù‚ (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©) */
      --primary-dark:#0056b3;
      --bg:#e6f0ff;
      --text:#111;
      --card:#fff;
      --muted:#666;
      --shadow:0 8px 24px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:var(--text)}
    header{background:var(--primary);color:#fff;padding:14px 16px;text-align:center;font-size:22px;position:sticky;top:0;z-index:10}
    .topbar{
      display:flex;gap:8px;justify-content:center;align-items:center;flex-wrap:wrap;
      background:var(--primary-dark);padding:8px 10px;color:#fff
    }
    .topbar select{padding:6px 10px;border-radius:8px;border:none}
    section{display:none;padding:22px}
    .container{
      max-width:430px;margin:auto;background:var(--card);padding:22px;border-radius:14px;
      box-shadow:var(--shadow);text-align:center
    }
    input,button,textarea,select{
      width:92%;padding:11px;margin:8px 0;border-radius:10px;border:1px solid #cfd6e4;font-size:15px
    }
    textarea{height:140px;resize:vertical}
    button{
      background:var(--primary);color:#fff;border:none;cursor:pointer;font-weight:bold
    }
    button:hover{background:var(--primary-dark)}
    a{color:var(--primary);cursor:pointer;text-decoration:none}
    a:hover{text-decoration:underline}
    nav{
      display:flex;gap:18px;justify-content:center;align-items:center;flex-wrap:wrap;
      background:var(--primary-dark);padding:10px;color:#fff;border-radius:12px;margin:0 auto 18px;max-width:980px
    }
    nav a{color:#fff;font-weight:bold}
    .inner{max-width:980px;margin:0 auto}
    .muted{color:var(--muted);font-size:13px}
    ul.feature{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
    ul.feature li{background:var(--card);padding:14px;border-radius:12px;box-shadow:var(--shadow)}
    .rtl{direction:rtl;text-align:right}
    .ltr{direction:ltr;text-align:left}
  </style>
</head>
<body>

  <!-- Ø§Ù„Ø±Ø£Ø³ + Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© -->
  <header id="site-title">Ù…ÙˆÙ‚Ø¹ ØªØ¹Ù„ÙŠÙ…ÙŠ</header>
  <div class="topbar">
    <span id="lang-label">Ø§Ù„Ù„ØºØ©:</span>
    <select id="lang" onchange="setLanguage(this.value)">
      <option value="ar" selected>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      <option value="en">English</option>
      <option value="fr">FranÃ§ais</option>
    </select>
  </div>

  <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <section id="login-section" style="display:block">
    <div class="container">
      <h2 data-i18n="login_title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
      <input type="email" id="login-email" data-i18n-ph="email_ph" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" />
      <input type="password" id="login-password" data-i18n-ph="password_ph" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
      <label class="muted"><input type="checkbox" id="remember" /> <span data-i18n="remember">ØªØ°ÙƒØ±Ù†ÙŠ</span></label>
      <button onclick="login()" data-i18n="login_btn">Ø¯Ø®ÙˆÙ„</button>
      <p><span data-i18n="no_account">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ</span> <a onclick="gotoRegister()" data-i18n="create_account">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</a></p>
    </div>
  </section>

  <!-- Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ -->
  <section id="register-section">
    <div class="container">
      <h2 data-i18n="register_title">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
      <div class="row">
        <input type="text" id="reg-name" data-i18n-ph="name_ph" placeholder="Ø§Ù„Ø§Ø³Ù…" />
        <input type="text" id="reg-lastname" data-i18n-ph="lastname_ph" placeholder="Ø§Ù„Ù„Ù‚Ø¨" />
      </div>
      <input type="date" id="birthdate" />
      <input type="email" id="reg-email" data-i18n-ph="email_ph" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" />
      <input type="password" id="reg-password" data-i18n-ph="password_rules" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6+ Ø£Ø­Ø±Ù Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù…)" />
      <input type="password" id="reg-confirm-password" data-i18n-ph="confirm_password_ph" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />

      <!-- Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© -->
      <p data-i18n="captcha_title">Ø£ÙƒØªØ¨ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©:</p>
      <p id="captcha-question" style="font-weight:bold;font-size:18px"></p>
      <input type="text" id="captcha-answer" data-i18n-ph="captcha_ph" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙ„Ù…Ø© Ù‡Ù†Ø§" />

      <button onclick="register()" data-i18n="register_btn">ØªØ³Ø¬ÙŠÙ„</button>
      <p><a onclick="showSection('login-section')" data-i18n="back_to_login">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></p>
    </div>
  </section>

  <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© -->
  <section id="main-section">
    <nav>
      <a onclick="showInnerPage('official-page')" data-i18n="nav_official">Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ©</a>
      <a onclick="showInnerPage('services-page')" data-i18n="nav_services">Ø®Ø¯Ù…Ø§ØªÙŠ</a>
      <a onclick="showInnerPage('contact-page')" data-i18n="nav_contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
      <a onclick="logout()" data-i18n="nav_logout">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
    </nav>

    <div class="inner">
      <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© -->
      <div id="official-page" class="inner-page" style="display:block">
        <h2 data-i18n="official_title">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</h2>
        <p data-i18n="official_paragraph" class="rtl">
          Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ù‡Ùˆ Ø£Ø³Ø§Ø³ ØªÙ‚Ø¯Ù… Ø§Ù„Ø£Ù…Ù… ÙˆØ§Ø²Ø¯Ù‡Ø§Ø±Ù‡Ø§ØŒ ÙˆÙ…Ù† Ø®Ù„Ø§Ù„Ù‡ Ù†ÙƒØªØ³Ø¨ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„ØªÙŠ ØªØ¤Ù‡Ù„Ù†Ø§ Ù„Ù…ÙˆØ§Ø¬Ù‡Ø© ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„.
          ÙÙŠ Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ù†Ø³Ø¹Ù‰ Ù„ØªÙˆÙÙŠØ± Ù…Ø­ØªÙˆÙ‰ ØªØ¹Ù„ÙŠÙ…ÙŠ Ù‡Ø§Ø¯Ù ÙˆØ³Ù‡Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¬Ù…ÙŠØ¹. Ù†Ù‚Ø¯Ù… Ù…Ù‚Ø§Ù„Ø§ØªØŒ ÙˆØ¯Ø±ÙˆØ³Ù‹Ø§ Ù…ØµÙˆÙ‘Ø±Ø©ØŒ ÙˆØªÙ…Ø§Ø±ÙŠÙ† ØªÙØ§Ø¹Ù„ÙŠØ©
          ØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø¹Ù„Ù‰ ØªØ·ÙˆÙŠØ± Ø°Ø§ØªÙ‡ Ø¨Ø®Ø·ÙˆØ§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø¯Ø±ÙˆØ³Ø©. Ø±Ø¤ÙŠØªÙ†Ø§ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„ØªØ¹Ù„Ù… Ù…ØªØ§Ø­Ù‹Ø§ Ù„Ù„Ø¬Ù…ÙŠØ¹ØŒ Ø¨Ù„Ø§ Ù‚ÙŠÙˆØ¯ Ù…ÙƒØ§Ù† Ø£Ùˆ Ø²Ù…Ø§Ù†.
        </p>
      </div>

      <!-- Ø®Ø¯Ù…Ø§ØªÙŠ -->
      <div id="services-page" class="inner-page" style="display:none">
        <h2 data-i18n="services_title">Ø®Ø¯Ù…Ø§ØªÙŠ</h2>
        <ul id="services-list" class="feature"></ul>
      </div>

      <!-- Ø§ØªØµÙ„ Ø¨Ù†Ø§ -->
      <div id="contact-page" class="inner-page" style="display:none">
        <h2 data-i18n="contact_title">Ø§ØªØµÙ„ Ø¨Ù†Ø§</h2>
        <textarea id="contact-msg" data-i18n-ph="contact_ph" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..."></textarea>
        <button onclick="sendMessage()" data-i18n="contact_send">Ø¥Ø±Ø³Ø§Ù„</button>
        <p id="contact-status" class="muted"></p>
      </div>
    </div>
  </section>

  <script>
    /* =========================
       i18n Ø§Ù„Ù†ØµÙˆØµ Ø«Ù„Ø§Ø« Ù„ØºØ§Øª
       ========================= */
    const i18n = {
      ar:{
        site_title:"Ù…ÙˆÙ‚Ø¹ ØªØ¹Ù„ÙŠÙ…ÙŠ",
        lang_label:"Ø§Ù„Ù„ØºØ©:",
        login_title:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
        email_ph:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
        password_ph:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
        remember:"ØªØ°ÙƒØ±Ù†ÙŠ",
        login_btn:"Ø¯Ø®ÙˆÙ„",
        no_account:"Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ",
        create_account:"Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨",
        register_title:"Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨",
        name_ph:"Ø§Ù„Ø§Ø³Ù…",
        lastname_ph:"Ø§Ù„Ù„Ù‚Ø¨",
        password_rules:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6+ Ø£Ø­Ø±Ù Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù…)",
        confirm_password_ph:"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
        captcha_title:"Ø£ÙƒØªØ¨ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©:",
        captcha_equals:"= ØŸ (Ø¨Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©)",
        captcha_ph:"Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙ„Ù…Ø© Ù‡Ù†Ø§",
        register_btn:"ØªØ³Ø¬ÙŠÙ„",
        back_to_login:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
        nav_official:"Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ©",
        nav_services:"Ø®Ø¯Ù…Ø§ØªÙŠ",
        nav_contact:"Ø§ØªØµÙ„ Ø¨Ù†Ø§",
        nav_logout:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
        official_title:"Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ",
        official_paragraph:
          "Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ù‡Ùˆ Ø£Ø³Ø§Ø³ ØªÙ‚Ø¯Ù… Ø§Ù„Ø£Ù…Ù… ÙˆØ§Ø²Ø¯Ù‡Ø§Ø±Ù‡Ø§ØŒ ÙˆÙ…Ù† Ø®Ù„Ø§Ù„Ù‡ Ù†ÙƒØªØ³Ø¨ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„ØªÙŠ ØªØ¤Ù‡Ù„Ù†Ø§ Ù„Ù…ÙˆØ§Ø¬Ù‡Ø© ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„. " +
          "ÙÙŠ Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ù†Ø³Ø¹Ù‰ Ù„ØªÙˆÙÙŠØ± Ù…Ø­ØªÙˆÙ‰ ØªØ¹Ù„ÙŠÙ…ÙŠ Ù‡Ø§Ø¯Ù ÙˆØ³Ù‡Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¬Ù…ÙŠØ¹. Ù†Ù‚Ø¯Ù… Ù…Ù‚Ø§Ù„Ø§ØªØŒ ÙˆØ¯Ø±ÙˆØ³Ù‹Ø§ Ù…ØµÙˆÙ‘Ø±Ø©ØŒ ÙˆØªÙ…Ø§Ø±ÙŠÙ† ØªÙØ§Ø¹Ù„ÙŠØ© " +
          "ØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø¹Ù„Ù‰ ØªØ·ÙˆÙŠØ± Ø°Ø§ØªÙ‡ Ø¨Ø®Ø·ÙˆØ§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø¯Ø±ÙˆØ³Ø©. Ø±Ø¤ÙŠØªÙ†Ø§ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„ØªØ¹Ù„Ù… Ù…ØªØ§Ø­Ù‹Ø§ Ù„Ù„Ø¬Ù…ÙŠØ¹ØŒ Ø¨Ù„Ø§ Ù‚ÙŠÙˆØ¯ Ù…ÙƒØ§Ù† Ø£Ùˆ Ø²Ù…Ø§Ù†.",
        services_title:"Ø®Ø¯Ù…Ø§ØªÙŠ",
        services_list:[
          "ğŸ“š Ø¯Ø±ÙˆØ³ Ù…Ø¬Ø§Ù†ÙŠØ© Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª",
          "ğŸ“ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ¯Ø±ÙŠØ¨ÙŠØ©",
          "ğŸ¥ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ØªØ¹Ù„ÙŠÙ…ÙŠØ©",
          "ğŸ’¬ Ù…Ù†ØªØ¯Ù‰ Ù„Ù„Ù†Ù‚Ø§Ø´ ÙˆØªØ¨Ø§Ø¯Ù„ Ø§Ù„Ø®Ø¨Ø±Ø§Øª",
          "ğŸ¯ Ø®Ø·Ø· ØªØ¹Ù„Ù… Ù…Ø®ØµÙ‘ØµØ©"
        ],
        contact_title:"Ø§ØªØµÙ„ Ø¨Ù†Ø§",
        contact_ph:"Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...",
        contact_send:"Ø¥Ø±Ø³Ø§Ù„",
        contact_ok:"ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ! Ø³Ù†Ø¹Ø§ÙˆØ¯ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù‚Ø±ÙŠØ¨Ù‹Ø§.",
        // Ø±Ø³Ø§Ø¦Ù„ ØªÙ†Ø¨ÙŠÙ‡
        err_email:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­",
        err_pw:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ÙˆØªØ´Ù…Ù„ Ø£Ø±Ù‚Ø§Ù… ÙˆØ­Ø±ÙˆÙ",
        err_pw_match:"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…Ø·Ø§Ø¨Ù‚",
        err_age:"ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ù…Ø±Ùƒ 10 Ø³Ù†ÙˆØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ù„ØªØ³Ø¬ÙŠÙ„",
        err_captcha:"Ø¥Ø¬Ø§Ø¨Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­Ù‚Ù‚ ØºÙŠØ± ØµØ­ÙŠØ­Ø©",
        reg_ok:"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!",
        login_err:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©"
      },
      en:{
        site_title:"Educational Site",
        lang_label:"Language:",
        login_title:"Sign In",
        email_ph:"Email",
        password_ph:"Password",
        remember:"Remember me",
        login_btn:"Log In",
        no_account:"Don't have an account?",
        create_account:"Create Account",
        register_title:"Create Account",
        name_ph:"First name",
        lastname_ph:"Last name",
        password_rules:"Password (6+ chars incl. numbers)",
        confirm_password_ph:"Confirm password",
        captcha_title:"Type the following number in French:",
        captcha_equals:"= ? (in French)",
        captcha_ph:"Type the French word",
        register_btn:"Register",
        back_to_login:"Back to sign in",
        nav_official:"Official Page",
        nav_services:"My Services",
        nav_contact:"Contact Us",
        nav_logout:"Log Out",
        official_title:"Welcome to our educational platform",
        official_paragraph:
          "Education is the foundation of progress. Through learning we gain the skills and knowledge " +
          "to face future challenges. Our platform delivers purposeful, accessible content for everyoneâ€”" +
          "articles, video lessons, and interactive exercises that guide learners step by step. Our vision " +
          "is learning available to all, anytime and anywhere.",
        services_title:"My Services",
        services_list:[
          "ğŸ“š Free online lessons",
          "ğŸ“ Practice quizzes",
          "ğŸ¥ Educational videos",
          "ğŸ’¬ Discussion forum",
          "ğŸ¯ Personalized learning plans"
        ],
        contact_title:"Contact Us",
        contact_ph:"Write your message here...",
        contact_send:"Send",
        contact_ok:"Your message has been sent! Weâ€™ll get back to you soon.",
        err_email:"Please enter a valid email address",
        err_pw:"Password must be at least 6 characters and include letters and numbers",
        err_pw_match:"Password confirmation does not match",
        err_age:"You must be at least 10 years old to register",
        err_captcha:"Human check failed. Try again.",
        reg_ok:"Account created successfully!",
        login_err:"Incorrect email or password"
      },
      fr:{
        site_title:"Site Ã‰ducatif",
        lang_label:"Langue :",
        login_title:"Connexion",
        email_ph:"E-mail",
        password_ph:"Mot de passe",
        remember:"Se souvenir de moi",
        login_btn:"Se connecter",
        no_account:"Pas de compte ?",
        create_account:"CrÃ©er un compte",
        register_title:"CrÃ©er un compte",
        name_ph:"PrÃ©nom",
        lastname_ph:"Nom",
        password_rules:"Mot de passe (6+ caractÃ¨res avec chiffres)",
        confirm_password_ph:"Confirmez le mot de passe",
        captcha_title:"Ã‰crivez le nombre suivant en franÃ§ais :",
        captcha_equals:"= ? (en franÃ§ais)",
        captcha_ph:"Tapez le mot franÃ§ais",
        register_btn:"Sâ€™inscrire",
        back_to_login:"Retour Ã  la connexion",
        nav_official:"Page Officielle",
        nav_services:"Mes Services",
        nav_contact:"Contact",
        nav_logout:"DÃ©connexion",
        official_title:"Bienvenue sur notre plateforme Ã©ducative",
        official_paragraph:
          "Lâ€™Ã©ducation est le pilier du progrÃ¨s. GrÃ¢ce Ã  lâ€™apprentissage, nous acquÃ©rons les compÃ©tences et " +
          "les connaissances nÃ©cessaires pour relever les dÃ©fis de demain. Notre plateforme propose un contenu " +
          "utile et accessible Ã  tous : articles, vidÃ©os pÃ©dagogiques et exercices interactifs. Notre vision : " +
          "un apprentissage disponible pour chacun, Ã  tout moment et en tout lieu.",
        services_title:"Mes Services",
        services_list:[
          "ğŸ“š Cours en ligne gratuits",
          "ğŸ“ Quiz dâ€™entraÃ®nement",
          "ğŸ¥ VidÃ©os Ã©ducatives",
          "ğŸ’¬ Forum de discussion",
          "ğŸ¯ Plans dâ€™apprentissage personnalisÃ©s"
        ],
        contact_title:"Contact",
        contact_ph:"Ã‰crivez votre message ici...",
        contact_send:"Envoyer",
        contact_ok:"Votre message a Ã©tÃ© envoyÃ© ! Nous vous rÃ©pondrons bientÃ´t.",
        err_email:"Veuillez saisir une adresse e-mail valide",
        err_pw:"Le mot de passe doit comporter au moins 6 caractÃ¨res et inclure des lettres et des chiffres",
        err_pw_match:"La confirmation du mot de passe ne correspond pas",
        err_age:"Vous devez avoir au moins 10 ans pour vous inscrire",
        err_captcha:"Ã‰chec du test humain. RÃ©essayez.",
        reg_ok:"Compte crÃ©Ã© avec succÃ¨s !",
        login_err:"E-mail ou mot de passe incorrect"
      }
    };

    /* Ø£Ù„ÙˆØ§Ù† Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ©:
       - Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©: Ø£Ø²Ø±Ù‚  (Ø§ÙØªØ±Ø§Ø¶ÙŠ)
       - Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©: Ø£Ø­Ù…Ø±
       - Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©: Ø£Ø®Ø¶Ø±
    */
    const themes = {
      ar:{primary:"#007bff", dark:"#0056b3", bg:"#e6f0ff"},
      en:{primary:"#d32f2f", dark:"#9a0007", bg:"#ffecec"},
      fr:{primary:"#2e7d32", dark:"#1b5e20", bg:"#eaf7eb"}
    };

    // Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø© Ù„ÙƒÙ„ Ù„ØºØ©
    const directions = { ar:"rtl", en:"ltr", fr:"ltr" };

    // Ø£Ø±Ù‚Ø§Ù… ÙØ±Ù†Ø³ÙŠØ© Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ù†Ø³Ø§Ù†
    const numbersFR = ["un","deux","trois","quatre","cinq","six","sept","huit","neuf","dix"];
    let captchaWord = "";

    // Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø°Ø§Øª placeholder
    function applyPlaceholders(scope=document){
      scope.querySelectorAll("[data-i18n-ph]").forEach(el=>{
        const key=el.getAttribute("data-i18n-ph");
        el.placeholder = t(key);
      });
    }

    function t(key){ return (i18n[currentLang] && i18n[currentLang][key]) || key; }

    function setTheme(lang){
      const th = themes[lang];
      document.documentElement.style.setProperty("--primary", th.primary);
      document.documentElement.style.setProperty("--primary-dark", th.dark);
      document.documentElement.style.setProperty("--bg", th.bg);
    }

    function setDir(lang){
      const d = directions[lang] || "rtl";
      document.documentElement.setAttribute("dir", d);
      document.documentElement.setAttribute("lang", lang);
      // Ø§Ø¶Ø¨Ø· Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„ÙÙ‚Ø±Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡
      const p = document.querySelector("#official-page p");
      if (p){
        p.classList.remove("rtl","ltr");
        p.classList.add(d==="rtl"?"rtl":"ltr");
      }
    }

    function translateAll(){
      // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†Øµ
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        el.textContent = t(key);
      });
      // Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
      document.getElementById("site-title").textContent = t("site_title");
      document.getElementById("lang-label").textContent = t("lang_label");
      // Ø§Ù„Ù…Ù‚Ø§Ù„
      document.querySelector("#official-page h2").textContent = t("official_title");
      document.querySelector("#official-page p").textContent = t("official_paragraph");
      // Ø§Ù„Ø®Ø¯Ù…Ø§Øª
      const list = document.getElementById("services-list");
      list.innerHTML = "";
      (i18n[currentLang].services_list||[]).forEach(item=>{
        const li=document.createElement("li"); li.textContent=item; list.appendChild(li);
      });
      // Ù†Øµ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ÙƒØ§Ø¨ØªØ´Ø§ (1..10) = ØŸ
      updateCaptchaQuestion();
      // Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
      applyPlaceholders(document);
    }

    function updateCaptchaQuestion(){
      // Ù…Ø«Ø§Ù„: "5 = ØŸ (Ø¨Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©)" Ø¨Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ©
      const idx = numbersFR.indexOf(captchaWord);
      const num = (idx>=0 ? (idx+1) : Math.floor(Math.random()*10)+1);
      document.getElementById("captcha-question").textContent = `${num} ${t("captcha_equals")}`;
    }

    function generateCaptcha(){
      const rnd = Math.floor(Math.random()*10);
      captchaWord = numbersFR[rnd];
      updateCaptchaQuestion();
    }

    function gotoRegister(){
      generateCaptcha();
      showSection("register-section");
    }

    function showSection(id){
      document.querySelectorAll("section").forEach(s=>s.style.display="none");
      document.getElementById(id).style.display="block";
    }

    function showInnerPage(id){
      document.querySelectorAll(".inner .inner-page").forEach(p=>p.style.display="none");
      document.getElementById(id).style.display="block";
    }

    function validateEmail(email){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }
    function validatePassword(pw){
      return /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(pw);
    }
    function calculateAge(dateStr){
      const diff = Date.now() - new Date(dateStr).getTime();
      return new Date(diff).getUTCFullYear()-1970;
    }

    function register(){
      const name = document.getElementById("reg-name").value.trim();
      const lastname = document.getElementById("reg-lastname").value.trim();
      const birthdate = document.getElementById("birthdate").value;
      const email = document.getElementById("reg-email").value.trim();
      const pw = document.getElementById("reg-password").value;
      const pw2 = document.getElementById("reg-confirm-password").value;
      const cap = document.getElementById("captcha-answer").value.trim().toLowerCase();

      if(!validateEmail(email)) return alert(t("err_email"));
      if(!validatePassword(pw)) return alert(t("err_pw"));
      if(pw!==pw2) return alert(t("err_pw_match"));
      if(calculateAge(birthdate)<10) return alert(t("err_age"));
      if(cap!==captchaWord){ alert(t("err_captcha")); generateCaptcha(); return; }

      // Ø­ÙØ¸ Ø¨Ø³ÙŠØ· (Ù…Ù† Ø¯ÙˆÙ† Ø®Ø§Ø¯Ù…)
      sessionStorage.setItem("name", name);
      sessionStorage.setItem("lastname", lastname);
      sessionStorage.setItem("birthdate", birthdate);
      sessionStorage.setItem("email", email);
      sessionStorage.setItem("password", pw);

      alert(t("reg_ok"));
      showSection("login-section");
    }

    function login(){
      const email = document.getElementById("login-email").value.trim();
      const pw = document.getElementById("login-password").value;
      const remember = document.getElementById("remember").checked;

      if(email===sessionStorage.getItem("email") && pw===sessionStorage.getItem("password")){
        if(remember){
          localStorage.setItem("email", email);
          localStorage.setItem("password", pw);
          localStorage.setItem("remember", "true");
        }else{
          localStorage.removeItem("email");
          localStorage.removeItem("password");
          localStorage.setItem("remember", "false");
        }
        showSection("main-section");
        showInnerPage("official-page");
      }else{
        alert(t("login_err"));
      }
    }

    function logout(){
      showSection("login-section");
    }

    function sendMessage(){
      const msg = document.getElementById("contact-msg").value.trim();
      const status = document.getElementById("contact-status");
      if(!msg){ status.textContent = ""; return alert("âœï¸"); }
      status.textContent = t("contact_ok");
      document.getElementById("contact-msg").value="";
    }

    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù„ØºØ© + Ø§Ù„Ø£Ù„ÙˆØ§Ù† + Ø§Ù„Ø§ØªØ¬Ø§Ù‡
    let currentLang = "ar";
    function setLanguage(lang){
      currentLang = lang;
      setTheme(lang);
      setDir(lang);
      translateAll();
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø£ÙˆÙ„ÙŠØ©
    document.addEventListener("DOMContentLoaded", ()=>{
      const today = new Date().toISOString().split("T")[0];
      document.getElementById("birthdate").setAttribute("max", today);

      // ØªØ°ÙƒÙ‘Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
      if(localStorage.getItem("remember")==="true"){
        document.getElementById("login-email").value = localStorage.getItem("email")||"";
        document.getElementById("login-password").value = localStorage.getItem("password")||"";
        document.getElementById("remember").checked = true;
      }

      // Ù„ØºØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¹Ø±Ø¨ÙŠØ© (Ø£Ø²Ø±Ù‚)
      setLanguage("ar");
      // ÙƒØ§Ø¨ØªØ´Ø§ Ø£ÙˆÙ„ÙŠØ©
      generateCaptcha();
    });
  </script>
</body>
</html>
